{"ast":null,"code":"import _toConsumableArray from\"C:/xampp_1/htdocs/reactshop/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/xampp_1/htdocs/reactshop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{detailsProduct}from\"../actions/productActions\";import{useEffect}from\"react\";import{useState}from\"react\";function ProductScreen(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;var dispatch=useDispatch();useEffect(function(){dispatch(detailsProduct(props.match.params.id));return function(){//\n};},[]);var handleAddtoCart=function handleAddtoCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to home\"})}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"productimg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-info\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h4\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:product.brand}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Price:\",/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",product.price]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"div\",{className:\"details-description\",children:product.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-action\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Status: \",product.countInStock>0?\"In Stock\":\"Out of stock\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Qty: \",product.countInStock>0&&/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})}),product.countInStock===0&&\"0\"]}),/*#__PURE__*/_jsx(\"li\",{children:product.countInStock>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddtoCart,className:\"button primary\",children:\"Add to Cart\"})})]})})]})]});}export default ProductScreen;","map":{"version":3,"sources":["C:/xampp_1/htdocs/reactshop/frontend/src/screens/ProductScreen.js"],"names":["React","Link","useDispatch","useSelector","detailsProduct","useEffect","useState","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","handleAddtoCart","history","push","image","name","brand","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {detailsProduct} from \"../actions/productActions\";\r\nimport {useEffect} from \"react\";\r\nimport {useState} from \"react\";\r\nfunction ProductScreen(props) {\r\n\r\n    const [qty, setQty] = useState(1);\r\n    const productDetails = useSelector(state => state.productDetails);\r\n    const {product, loading, error} = productDetails;\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() =>{\r\n\r\n        dispatch(detailsProduct(props.match.params.id));\r\n\r\n        return () =>{\r\n            //\r\n        };\r\n    },[])\r\n\r\n\r\n    const handleAddtoCart = () =>{\r\n        props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty)\r\n    }\r\n\r\n\r\n    return <div>\r\n        <div>\r\n            <Link to=\"/\">Back to home</Link>\r\n        </div>\r\n        {loading ? <div>Loading...</div>:\r\n            error ? <div>{error}</div>: (<div className=\"details\">\r\n                <div className=\"details-image\">\r\n                    <img src={product.image} alt=\"productimg\"/>\r\n                </div>\r\n                <div className=\"details-info\">\r\n                    <ul>\r\n                        <li>\r\n                            <h4>{product.name}</h4>\r\n                        </li>\r\n                        <li>\r\n                            {product.brand}\r\n                        </li>\r\n                        <li>\r\n                            Price:<b>${product.price}</b>\r\n                        </li>\r\n                        <li>\r\n                            Description:\r\n                            <div className=\"details-description\">\r\n                                {product.description}\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"details-action\">\r\n                    <ul>\r\n                        <li>\r\n                            Price: ${product.price}\r\n                        </li>\r\n                        <li>\r\n                            Status: {\r\n                            product.countInStock > 0 ? \"In Stock\" :\r\n                                \"Out of stock\"\r\n                        }\r\n                        </li>\r\n                        <li>\r\n                            Qty: {\r\n                            product.countInStock > 0 && <select value={qty} onChange={(e) => {setQty(e.target.value)} }>\r\n                                {[...Array(product.countInStock).keys()].map(x =>\r\n                                    <option key={x+1} value={x+1}>{x+1}</option>)}\r\n                            </select>}\r\n                            {\r\n                                product.countInStock === 0 && \"0\"\r\n                            }\r\n                        </li>\r\n                        <li>\r\n                            {\r\n                                product.countInStock > 0 && <button onClick={handleAddtoCart} className=\"button primary\">Add to Cart</button>\r\n                            }\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>)}\r\n        </div>\r\n}\r\nexport default ProductScreen;\r\n\r\n"]},"metadata":{},"sourceType":"module"}