{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp_1/htdocs/reactshop/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp_1/htdocs/reactshop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import Cookie from'js-cookie';import{USER_REGISTER_FAIL,USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS,USER_SIGNIN_FAIL,USER_SIGNIN_REQUEST,USER_SIGNIN_SUCCESS}from\"../constants/userConstants\";var signin=function signin(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:USER_SIGNIN_REQUEST,payload:{email:email,password:password}});_context.prev=1;_context.next=4;return axios.post(\"api/users/signin\",{email:email,password:password});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:USER_SIGNIN_SUCCESS,payload:data});Cookie.set('userInfo',JSON.stringify(data));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);dispatch({type:USER_SIGNIN_FAIL,payload:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};var register=function register(name,email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:USER_REGISTER_REQUEST,payload:{name:name,email:email,password:password}});_context2.prev=1;_context2.next=4;return axios.post(\"api/users/register\",{name:name,email:email,password:password});case 4:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:USER_REGISTER_SUCCESS,payload:data});Cookie.set('userInfo',JSON.stringify(data));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);dispatch({type:USER_REGISTER_FAIL,payload:_context2.t0.message});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export{register,signin};","map":{"version":3,"sources":["C:/xampp_1/htdocs/reactshop/frontend/src/actions/userActions.js"],"names":["axios","Cookie","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_SIGNIN_FAIL","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","signin","email","password","dispatch","type","payload","post","data","set","JSON","stringify","message","register","name"],"mappings":"2OAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,OACIC,kBADJ,CACwBC,qBADxB,CAC+CC,qBAD/C,CAEIC,gBAFJ,CAGIC,mBAHJ,CAIIC,mBAJJ,KAKO,4BALP,CAOA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAQC,QAAR,iGAAqB,iBAAOC,QAAP,6IAChCA,QAAQ,CAAC,CAACC,IAAI,CAAEN,mBAAP,CAA4BO,OAAO,CAAE,CAACJ,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAArC,CAAD,CAAR,CADgC,sCAGPV,CAAAA,KAAK,CAACc,IAAN,CAAW,kBAAX,CAA+B,CAACL,KAAK,CAALA,KAAD,CAAQC,QAAQ,CAARA,QAAR,CAA/B,CAHO,wCAGrBK,IAHqB,mBAGrBA,IAHqB,CAI5BJ,QAAQ,CAAC,CAACC,IAAI,CAAEL,mBAAP,CAA4BM,OAAO,CAAEE,IAArC,CAAD,CAAR,CACAd,MAAM,CAACe,GAAP,CAAW,UAAX,CAAuBC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAvB,EAL4B,iFAO5BJ,QAAQ,CAAC,CAACC,IAAI,CAAEP,gBAAP,CAAyBQ,OAAO,CAAE,YAAEM,OAApC,CAAD,CAAR,CAP4B,qEAArB,gEAAf,CAWA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAOZ,KAAP,CAAcC,QAAd,kGAA2B,kBAAOC,QAAP,kJACxCA,QAAQ,CAAC,CAACC,IAAI,CAAET,qBAAP,CAA8BU,OAAO,CAAE,CAACQ,IAAI,CAAJA,IAAD,CAAOZ,KAAK,CAALA,KAAP,CAAcC,QAAQ,CAARA,QAAd,CAAvC,CAAD,CAAR,CADwC,wCAGfV,CAAAA,KAAK,CAACc,IAAN,CAAW,oBAAX,CAAiC,CAACO,IAAI,CAAJA,IAAD,CAAOZ,KAAK,CAALA,KAAP,CAAcC,QAAQ,CAARA,QAAd,CAAjC,CAHe,0CAG7BK,IAH6B,oBAG7BA,IAH6B,CAIpCJ,QAAQ,CAAC,CAACC,IAAI,CAAER,qBAAP,CAA8BS,OAAO,CAAEE,IAAvC,CAAD,CAAR,CACAd,MAAM,CAACe,GAAP,CAAW,UAAX,CAAuBC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAvB,EALoC,qFAOpCJ,QAAQ,CAAC,CAACC,IAAI,CAAEV,kBAAP,CAA2BW,OAAO,CAAE,aAAEM,OAAtC,CAAD,CAAR,CAPoC,uEAA3B,kEAAjB,CAUA,OAAQC,QAAR,CAAkBZ,MAAlB","sourcesContent":["import axios from \"axios\";\r\nimport Cookie from 'js-cookie'\r\nimport {\r\n    USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS,\r\n    USER_SIGNIN_FAIL,\r\n    USER_SIGNIN_REQUEST,\r\n    USER_SIGNIN_SUCCESS\r\n} from \"../constants/userConstants\";\r\n\r\nconst signin = (email, password) => async (dispatch) => {\r\n    dispatch({type: USER_SIGNIN_REQUEST, payload: {email, password}});\r\n    try {\r\n        const {data} = await axios.post(\"api/users/signin\", {email, password});\r\n        dispatch({type: USER_SIGNIN_SUCCESS, payload: data});\r\n        Cookie.set('userInfo', JSON.stringify(data));\r\n    } catch (e) {\r\n        dispatch({type: USER_SIGNIN_FAIL, payload: e.message});\r\n    }\r\n}\r\n\r\nconst register = (name, email, password) => async (dispatch) => {\r\n    dispatch({type: USER_REGISTER_REQUEST, payload: {name, email, password}});\r\n    try {\r\n        const {data} = await axios.post(\"api/users/register\", {name, email, password});\r\n        dispatch({type: USER_REGISTER_SUCCESS, payload: data});\r\n        Cookie.set('userInfo', JSON.stringify(data));\r\n    } catch (e) {\r\n        dispatch({type: USER_REGISTER_FAIL, payload: e.message});\r\n    }\r\n}\r\nexport {register, signin}"]},"metadata":{},"sourceType":"module"}